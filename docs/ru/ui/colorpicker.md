# Colorpicker

`Colorpicker` это простой виджет позволяющий вашим пользователям выбирать
любые цвета в стандартном диалоге.

<%= partial '/ui/head', :locals => {:name => 'colorpicker'} %>

<%= anchors_index %>

## Список особенностей, :features

 * Работает как независимый виджет
 * Работает в паре с полями ввода
 * Может автоматически менять цвет другого элемента
 * Легкое и гибкое применение

## Основы использования, :usage

Для начала скопируйте любой из вышеперечисленных файлов, как вы это обычно
делаете. Затем скопируйте [данное изображение](/images/rightjs-ui/colorpicker.png)
в то же самое место на вашем сервере (в разделе [настройка стилей](#styles)
есть доп. информация по данному вопросу)

После чего использование данного виджета практически такое же, как и в случае
виджета [календаря](/ui/calendar). Вы можете просто встроить его в любое место
на вашей странице с использованием метода `insertTo`

    <div id="my-element"></div>
    
    new Colorpicker().insertTo('my-element');

Или же вы можете назначить ваш диалог для работы в паре с полем ввода с 
помощью метода `assignTo`

    <input type="text" id="my-field" />
    
    new Colorpicker().assignTo('my-field');

Вы так же можете использовать пары поле вводе - триггер

    <input type="text" id="my-field" />
    <input type="image" id="trigger" />
    
    new Colorpicker().assignTo('my-field', 'trigger');

Автоматическая инициализация по атрибутам `rel="colorpicker"` так же доступна.

    // отдельное поле ввода с диалогом
    <input type="text" rel="colorpcker" />
    
    // поле ввода со специальным триггером
    <input type="text" id="my-field" />
    <input type="image" rel="colorpicker[my-field]" />

__ВНИМАНИЕ__: вы можете использовать любые элементы в качестве триггеров, это
не обязательно должен быть элемент INPUT.


## Список опций, :options

Для данного виджета доступен следующий список настроек

Название   | Умолчание | Описание
-----------|-----------|-------------------------------------------------
format     | 'hex'     | формат цвета, `'hex'` или `'rgb'`
update     | null      | поле ввода для автоматического обновления
updateBg   | null      | элемент цвет которого будет автоматически обновляться
fxName     | 'fade'    | визуальный эффект для диалогового окна
fxDuration | 'short'   | длительность визуального эффекта
cssRule    | '*\[rel^=colorpicker\]' | css-правило для автоматической инициализации

Как обычно, вы можете использовать любые из данных опций совместно с 
конструктором класса `Colorpicker`, а так же в HTML5 атрибутах с именем
`data-colorpicker-options` для автоматически инициализируемых полей


## Список событий, :events

Существует простой список поддерживаемых событий

Название | Описание
---------|-----------------------------------------------------
change   | когда пользователь меняет цвет
show     | когда диалоговое окно начинает появляться
hide     | когда диалоговое окно начинает скрываться
done     | когда пользователь кликает кнопку `Готово`

__ВНИМАНИЕ__: слушатели события `change` будут получать в качестве аргумента
текущий цвет в виде массива `[255, 255, 255]`


## API методы, :api

У данного виджета есть несколько публично доступных методов

Название          | Описание
------------------|-------------------------------------------------------
setValue(color)   | устанавливает текущий цвет, может быть в HEX или RGB формате
getValue()        | возвращает текущий цвет отформатированный согласно опциям
toRgb()           | возвращает текущий цвет в RGB формате
toHex()           | возвращает текущий цвет в HEX формате
insertTo(element\[, position\]) | показывает виджет как элемент страницы
assignTo(element\[, trigger\])  | назначает виджет для работы в паре с полeм ввода
updateBg(element) | заставляет виджет автоматически обновлять цвет указанного элемента
show(\[element\]) | показывает диалоговое окно виджета, опционально под указанным элементом
hide()            | скрывает диалоговое окно виджета


## Настройки стилей, :styles

Виджет `Colorpicker` имеет следующую структуру HTML элементов

    <div class="right-colorpicker right-ui-panel">
      <div class="field">
        <div class="field-pointer"></div>
      </div>
      
      <div class="colors">
        <div class="field-pointer"></div>
      </div>
      
      <div class="controls">
        <div class="preview"></div>
        
        <input type="text" class="display" />
        
        <div class="rgb-display">
          <div><label>R:</label><input type="text" /></div>
          <div><label>G:</label><input type="text" /></div>
          <div><label>B:</label><input type="text" /></div>
        </div>
        
        <input type="button" class="right-ui-button" />
      </div>
    </div>

__ВНИМАНИЕ__: Этот виджет использует
[данную картинку](/images/rightjs-ui/colorpicker.png), вы должны скопировать
ее в то же самое место на вашем проекте, либо указать другое в ваших CSS
файлах следующим способом

    div.right-colorpicker div.field,
    div.right-colorpicker div.field-pointer,
    div.right-colorpicker div.colors,
    div.right-colorpicker div.colors-pointer {
      background-image: url(/my/image.png);
    }
    

