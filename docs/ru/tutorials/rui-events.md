# RightJS UI работа с событиями

Данная статья описывает основы работы с событиями в библиотеке RightJS UI

<%= anchors_index %>

## Основы использования, :basics

Каждый виджет в RightJS UI имеет несколько дополнительных событий которые он
запускает в тех или иных случаях. Вы можете найти необходимые списки и
описания на странице [UI документации](/ui), в данной же статье мы займемся
описанием того как с ними работать.

Одна из интересных особенностей RightJS в том, что он на самом деле не
различает стандартные dom-события и специальные события создаваемые теми или
иными приложениями. Это сделано для того чтобы иметь единую систему событий и
унифицированные способы работы с ними.

Поэтому просто зная название события, вы можете сразу же приступить к его
использованию

    new Calendar().onChange(function() {
      console.log(this.value());
    });

    new Calendar().on({
      show: function() {
        console.log("Показываем календарь");
      },
      hide: function() {
        console.log("Скрываем календарь");
      }
    });

Вы так же можете указывать слушателей событий совместно с опциями конструктора

    new Calendar({
      onChange: function() {
        console.log(this.value());
      }
    });

Как вы можете видеть, все происходит в совершенно обычной форме. Вы даже
можете обращаться к объекту `event` который в некоторых случаях имеет
дополнительные атрибуты

    new Sortable('my-list', {
      onChange: function(event) {
        console.log(
          "Вы передвинули: " + event.item.text() +
          " в позицию: "     + event.index
        );
      }
    });

Это все в точности тоже самое.


## DOM события, :dom

В реальности все виджеты RightJS UI - это на самом деле самые обычные элементы
страниц, и, если вам необходимо, вы можете подключать к ним слушателей
стандартных dom-событий

    new Calendar()
      .onClick(function(event) {
        // делаем что-то с кликом
      })
      .on({
        mouseover: function() {},
        mouseout:  function() {}
      });

Единственная разница в том, что, в данном случае, вы не можете указывать
слушателей с опциями конструктора и должны использовать стандартные методы
типа {Element#on} или соответствующие шорткаты


## Всплывающие события, :bubbling

Т.к. RightJS сам по себе не видит разницы между стандартными и нестандартными
событиями, все события запускаемые виджетами, будут успешно всплывать по
дереву документа и вы можете перехватывать их в любом удобном для вас месте

    var div = new Element('div');
    var cal = new Calendar({..});

    cal.insertTo(div);

    div.on('change', function(event) {
      if (event.target instanceof Calendar) {
        console.log("Календарь изменен!");
      }
    });

Как вы видите, вы можете использовать корректную типизацию для объектов на
которые ссылается `event.target` для того скажем, чтобы различать события
пришедшие от объектов типа `Calendar` и полей ввода типа {Input}


## UJS для RightJS UI, :ujs

И наконец, т.к. все события всплывают по дереву документа, вы можете легко и
просто использовать UJS технику с виджетами

    ".rui-calendar".onChange(function() {
      console.log("Календарь изменен!")
    });

Каждый виджет в RightJS UI имеет собственный css-класс вида
`rui-[имя виджета]`, который вы можете использовать с UJS.



